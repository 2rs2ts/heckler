#!/bin/bash
set -e errexit
set -e pipefail
set -o nounset

AUTHORS=(
  [1]='kermit <kermit@muppets.com>'
  [2]='fozzie <fozzie@muppets.com>'
  [3]='statler <statler@muppets.com>'
  [4]='statler <statler@muppets.com>'
  [5]='kermit <kermit@muppets.com>'
)

if [[ -e repo ]]; then
  rm -fr repo
fi
mkdir repo

pushd repo

git init
git config advice.detachedHead false

for ((commit = 1; commit <= "${#AUTHORS[@]}"; commit++)); do
  cp ../manifests/commit"${commit}".pp muppets.pp
  git add muppets.pp
  git commit --author "${AUTHORS[$commit]}" -m commit"${commit}"
done

popd
